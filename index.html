<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Tet Offensive SIGINT Timeline</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      --bg-main: #000000;
      --bg-panel: #101010;
      --bg-panel-alt: #161616;
      --accent: #e74c3c;      /* red accent */
      --accent-soft: #c0392b;
      --text-main: #f5f5f5;
      --text-muted: #a0a0a0;
      --border-subtle: #333333;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      padding: 0;
      background: radial-gradient(circle at top, #111 0, #000 60%);
      color: var(--text-main);
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
        sans-serif;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .app-shell {
      max-width: 1024px;
      width: 100%;
      padding: 24px 16px 32px;
    }

    .card {
      background: linear-gradient(135deg, var(--bg-panel), var(--bg-panel-alt));
      border-radius: 18px;
      border: 1px solid var(--border-subtle);
      box-shadow: 0 20px 50px rgba(0, 0, 0, 0.85);
      padding: 20px 18px 22px;
    }

    .header {
      margin-bottom: 16px;
    }

    .header-title {
      font-size: 1.5rem;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      margin: 0 0 4px;
    }

    .header-subtitle {
      font-size: 0.92rem;
      color: var(--text-muted);
      max-width: 720px;
    }

    .layout {
      display: grid;
      grid-template-columns: minmax(0, 1.1fr) minmax(0, 1.6fr);
      gap: 16px;
    }

    /* Timeline column */
    .timeline-column {
      border-right: 1px solid rgba(255, 255, 255, 0.08);
      padding-right: 12px;
    }

    .timeline-label {
      font-size: 0.8rem;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      color: var(--text-muted);
      margin-bottom: 8px;
    }

    .timeline {
      list-style: none;
      padding: 0;
      margin: 0;
      position: relative;
    }

    .timeline::before {
      content: "";
      position: absolute;
      left: 6px;
      top: 0;
      bottom: 0;
      width: 2px;
      background: linear-gradient(
        to bottom,
        rgba(255, 255, 255, 0.2),
        rgba(255, 255, 255, 0.03)
      );
    }

    .timeline-item {
      position: relative;
      padding-left: 24px;
      margin-bottom: 10px;
    }

    .timeline-dot {
      position: absolute;
      left: 0;
      top: 7px;
      width: 12px;
      height: 12px;
      border-radius: 50%;
      border: 2px solid var(--accent);
      background: #000;
    }

    .timeline-item button {
      width: 100%;
      text-align: left;
      background: transparent;
      border-radius: 10px;
      border: 1px solid transparent;
      padding: 8px 10px;
      color: var(--text-main);
      font-size: 0.9rem;
      cursor: pointer;
      transition: background 0.12s ease, border-color 0.12s ease,
                  transform 0.12s ease;
    }

    .timeline-item button:hover {
      background: rgba(255, 255, 255, 0.04);
      border-color: rgba(255, 255, 255, 0.08);
      transform: translateY(-1px);
    }

    .timeline-item button.active {
      background: rgba(231, 76, 60, 0.12);
      border-color: var(--accent);
    }

    .timeline-date {
      font-size: 0.8rem;
      color: var(--accent);
      text-transform: uppercase;
      letter-spacing: 0.14em;
      margin-bottom: 2px;
    }

    .timeline-title {
      font-size: 0.95rem;
      font-weight: 600;
    }

    /* Detail panel */
    .detail-column {
      padding-left: 4px;
    }

    .detail-pill-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 4px;
    }

    .event-tag {
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.18em;
      color: var(--text-muted);
    }

    .event-type-pill {
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      padding: 4px 12px;
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.15);
      color: #f6f6f6;
      background: linear-gradient(
        135deg,
        rgba(231, 76, 60, 0.26),
        rgba(0, 0, 0, 0.6)
      );
    }

    .detail-title {
      font-size: 1.05rem;
      margin: 4px 0 8px;
      font-weight: 600;
    }

    .detail-meta-date {
      font-size: 0.82rem;
      color: var(--text-muted);
      margin-bottom: 10px;
    }

    .pill-grid {
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 6px;
      margin-bottom: 10px;
    }

    .pill-grid span {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.12);
      font-size: 0.74rem;
      padding: 4px 8px;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      color: #dddddd;
    }

    .pill-grid span:nth-child(1) {
      background: rgba(52, 152, 219, 0.14); /* Signals */
    }

    .pill-grid span:nth-child(2) {
      background: rgba(241, 196, 15, 0.16); /* Interpretation */
    }

    .pill-grid span:nth-child(3) {
      background: rgba(46, 204, 113, 0.16); /* Reality */
    }

    .section-block {
      margin-bottom: 10px;
      padding: 8px 8px 9px;
      border-radius: 10px;
      background: rgba(255, 255, 255, 0.02);
      border: 1px solid rgba(255, 255, 255, 0.06);
    }

    .section-label {
      font-size: 0.8rem;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      margin-bottom: 4px;
      color: var(--text-muted);
    }

    .section-body {
      font-size: 0.87rem;
      line-height: 1.45;
    }

    .section-body ul {
      margin: 4px 0 0 18px;
      padding: 0;
    }

    .section-body li {
      margin: 2px 0;
    }

    .footnote {
      margin-top: 8px;
      font-size: 0.8rem;
      color: var(--text-muted);
      font-style: italic;
    }

    @media (max-width: 720px) {
      .layout {
        grid-template-columns: minmax(0, 1fr);
      }
      .timeline-column {
        border-right: none;
        border-bottom: 1px solid rgba(255, 255, 255, 0.08);
        padding-right: 0;
        padding-bottom: 12px;
        margin-bottom: 10px;
      }
      .detail-column {
        padding-left: 0;
      }
    }
  </style>
</head>
<body>
  <div class="app-shell">
    <div class="card">
      <div class="header">
        <h1 class="header-title">Tet Offensive: Signals vs. Reality</h1>
        <p class="header-subtitle">
          Click through key moments before and during the Tet Offensive to see
          what U.S. SIGINT was picking up, how analysts interpreted it, and what
          actually unfolded on the ground.
        </p>
      </div>

      <div class="layout">
        <!-- TIMELINE COLUMN -->
        <div class="timeline-column">
          <div class="timeline-label">Timeline</div>
          <ul class="timeline" id="timelineList">
            <!-- Items injected by JS -->
          </ul>
        </div>

        <!-- DETAIL COLUMN -->
        <div class="detail-column">
          <div class="detail-pill-row">
            <span class="event-tag">Event Detail</span>
            <span class="event-type-pill" id="eventTypePill">Urban offensive</span>
          </div>
          <div class="detail-title" id="detailTitle">
            Select an event on the left to explore the intelligence picture.
          </div>
          <div class="detail-meta-date" id="detailDate"></div>

          <div class="pill-grid">
            <span>SIGINT / Source</span>
            <span>U.S. Interpretation</span>
            <span>Actual Outcome</span>
          </div>

          <div class="section-block">
            <div class="section-label">Signals available</div>
            <div class="section-body" id="detailSignals">
              Intercepts, captured documents, and field reports form the raw
              material of intelligence. Click an event to see what was
              available.
            </div>
          </div>

          <div class="section-block">
            <div class="section-label">How U.S. analysts read it</div>
            <div class="section-body" id="detailInterpretation">
              Analysts filter signals through assumptions, models, and political
              expectations. For Tet, those lenses often pointed away from a
              nationwide offensive.
            </div>
          </div>

          <div class="section-block">
            <div class="section-label">What actually happened</div>
            <div class="section-body" id="detailReality">
              Compare the pre-attack reading with what unfolded to see how
              misalignment between SIGINT and interpretation shaped the shock of
              Tet.
            </div>
          </div>

          <div class="footnote" id="detailFootnote">
            Hint: you can use this panel in your StoryMap narration to talk about
            “mutual information failure” — the gap between what was knowable and
            what leaders believed.
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    const events = [
      {
        id: "e1",
        dateShort: "Late 1967",
        dateFull: "Late 1967",
        title: "‘General Offensive and General Uprising’ in COMINT & documents",
        type: "Strategic warning",
        signals: `
          <ul>
            <li>Captured directives and propaganda referring to a coming “General Offensive and General Uprising.”</li>
            <li>Increased chatter about political agitation in cities and attacks timed to Tet.</li>
            <li>Reports from some field units noting unusual VC/NRF political cadre activity in urban areas.</li>
          </ul>
        `,
        interpretation: `
          <ul>
            <li>Many analysts treated the language as exaggerated propaganda meant to boost morale and pressure negotiations.</li>
            <li>Prevailing assumption: Communist forces were too weakened to coordinate a massive nationwide campaign.</li>
            <li>Warnings that took the phrase literally were often downplayed as outliers or “worst-case” speculation.</li>
          </ul>
        `,
        reality: `
          <ul>
            <li>The “General Offensive and General Uprising” was the actual operational concept for Tet: coordinated attacks on major cities and bases across South Vietnam.</li>
            <li>Rather than empty rhetoric, it described a real plan whose scale U.S. officials had not fully internalized.</li>
            <li>This gap set the stage for the shock when hundreds of targets were hit almost simultaneously.</li>
          </ul>
        `,
        footnote:
          "Key takeaway: the same phrase—seen as propaganda by some—was operational guidance to others.",
      },
      {
        id: "e2",
        dateShort: "21 Jan 1968",
        dateFull: "21 January 1968",
        title: "Siege of Khe Sanh begins",
        type: "Fixing action",
        signals: `
          <ul>
            <li>Heavy buildup of PAVN forces and logistics in the Khe Sanh area detected by SIGINT and reconnaissance.</li>
            <li>Intercepted communications showing artillery preparations and supply movements.</li>
            <li>Increased North Vietnamese attention to the base in captured planning documents.</li>
          </ul>
        `,
        interpretation: `
          <ul>
            <li>Many in MACV and Washington saw Khe Sanh as the likely centerpiece of an upcoming enemy offensive.</li>
            <li>Historical analogies to Dien Bien Phu pushed analysts toward expecting a decisive siege battle in the remote highlands.</li>
            <li>Focus on Khe Sanh made other signals of urban and nationwide attacks easier to discount or fit into a “supporting attacks” narrative.</li>
          </ul>
        `,
        reality: `
          <ul>
            <li>Khe Sanh was important, but it functioned in part as a diversion that fixed U.S. attention and forces.</li>
            <li>While MACV stared at Khe Sanh, Communist units were also preparing for coordinated attacks on Saigon, Hue, and dozens of other urban targets.</li>
            <li>The intelligence picture was not wrong about Khe Sanh, but it was incomplete about the broader operational design.</li>
          </ul>
        `,
        footnote:
          "This is a classic example of attention bias: real signals about Khe Sanh crowded out signals about the rest of the country.",
      },
      {
        id: "e3",
        dateShort: "30 Jan 1968",
        dateFull: "30 January 1968 (Tet Eve)",
        title: "Early Tet attacks in II & III Corps",
        type: "Partial execution",
        signals: `
          <ul>
            <li>Reports and some communications intercepts showed attacks beginning in parts of central and southern South Vietnam a day earlier than expected.</li>
            <li>Field commanders reported coordinated assaults on district capitals and bases.</li>
            <li>Some indications of confusion in Communist timing orders appeared in message traffic.</li>
          </ul>
        `,
        interpretation: `
          <ul>
            <li>These initial attacks were often read as local incidents or limited probes, not as the opening of a countrywide offensive.</li>
            <li>Existing assumptions—that the enemy could not sustain a broad urban campaign—made it easier to interpret them as isolated.</li>
            <li>Warnings that this might be “Tet, starting early” did not immediately reset the national intelligence estimate.</li>
          </ul>
        `,
        reality: `
          <ul>
            <li>In hindsight, these January 30 attacks were the leading edge of Tet, triggered early in some regions.</li>
            <li>The fact that they were misread as local events cost decision-makers precious time to adjust posture in Saigon and other major cities.</li>
            <li>The mismatch between the pattern on the ground and the mental model of a limited enemy played directly into surprise.</li>
          </ul>
        `,
        footnote:
          "Here, the problem wasn’t the absence of signals, but the failure to reframe them as evidence of a national-level offensive.",
      },
      {
        id: "e4",
        dateShort: "31 Jan 1968",
        dateFull: "31 January 1968",
        title: "Saigon, Hue, and nationwide attacks peak",
        type: "Shock phase",
        signals: `
          <ul>
            <li>Ongoing reports of attacks on the U.S. embassy compound, key installations in Saigon, and major provincial capitals.</li>
            <li>Communications interruptions and surges as both sides tried to respond under fire.</li>
            <li>Street-level reporting of firefights in places previously considered relatively secure.</li>
          </ul>
        `,
        interpretation: `
          <ul>
            <li>Even as the scope of the attacks became clear, early briefings tried to frame Tet as a “failed offensive” that had been repelled.</li>
            <li>Communicators emphasized enemy casualties and the idea that the Viet Cong had shot their bolt.</li>
            <li>This framing slowed recognition of how Tet had already changed U.S. and global perceptions of the war.</li>
          </ul>
        `,
        reality: `
          <ul>
            <li>Militarily, Communist forces suffered heavy casualties and did not trigger the hoped-for general uprising.</li>
            <li>Strategically, however, the sight of fighting inside the embassy compound and in Hue and Saigon shattered t
